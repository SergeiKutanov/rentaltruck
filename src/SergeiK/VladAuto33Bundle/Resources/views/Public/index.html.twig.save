{% extends '::base.html.twig' %}

{% block javascript %}
    <script type="text/javascript">
        //booking dates validation
        function datesCompare(start, end)
        {
            var now = new Date();
            if(start > now)
            {
                if((start - end) < 0)
                {
                    return true;
                }
            }
            return false;
        }

        $(document).ready(function(){
            var form = 'sergeik_vladauto33bundle_bookingtype_';
            $('div.car_book').delegate('form', 'submit', function(){
                var start = new Date(
                        $('#' + form + 'start_date_year').val(),
                        $('#' + form + 'start_date_month').val() - 1,
                        $('#' + form + 'start_date_day').val(),
                        0,0,0
                );
                var end = new Date(
                        $('#' + form + 'over_date_year').val(),
                        $('#' + form + 'over_date_month').val()-1,
                        $('#' + form + 'over_date_day').val(),
                        0,0,0
                );
                if(!datesCompare(start, end))
                {
                    alert('Проверьте даты бронирования!');
                    return false;
                }

                var phone = $('#' + form + 'phone').val();
                if(phone.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/g))
                {
                    return true;
                }
                else if(phone.match(/^\(?([0-9]{4})\)?[-. ]?([0-9]{2})[-. ]?([0-9]{2})[-. ]?([0-9]{2})$/g))
                {
                    return true;
                }
                else if(phone.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{2})[-. ]?([0-9]{2})$/g))
                {
                    return true;
                }
                else if(phone.match(/^\(?([0-9]{4})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{2})[-. ]?([0-9]{2})$/g))
                {
                    return true;
                }
                else
                {
                    alert('Введите номер телефона в одном из форматов: (XXX)XXX-XXXX | (XXXX)XX-XX-XX | (XXX)XXX-XX-XX | (XXXX)XXX-XX-XX');
                }
                return false;
            });

            //picture change timer
            function changePicture()
            {
                var bg;
                var fg;
                var fgim;
                var bgim;
                if($("div.rover > div.bg").css("opacity") == 1)
                {
                    fg = $("div.rover > div.bg");
                    bg = $("div.rover > div.fg");
                }
                else
                {
                    fg = $("div.rover > div.fg");
                    bg = $("div.rover > div.bg");
                }

                var filename = $(fg).css("background-image");

                if(filename.indexOf("land_1") > 0)
                {
                    fgim = 'url(../images/land_2.jpg)';
                    bgim = 'url(../images/land_3.jpg)';
                }
                else if(filename.indexOf("land_2") > 0)
                {
                    fgim = 'url(../images/land_3.jpg)';
                    bgim = 'url(../images/land_1.jpg)';
                }
                else if(filename.indexOf("land_3") > 0)
                {
                    fgim = 'url(../images/land_1.jpg)';
                    bgim = 'url(../images/land_2.jpg)';
                }

                $(bg).css("background-image", bgim);

                $(fg).animate({
                    opacity: 0
                }, 2000, function(){
                    $(fg).css("background-image", bgim);
                });
                $(bg).animate({
                    opacity: 1
                }, 2000);
            }

            const pictureHoldTime = 10000;      //picture change interval

            var interval = setInterval(function(){
                changePicture()
            }, pictureHoldTime);
        });
    </script>
{% endblock %}

{% block title %}
    <title>Аренда автомобилей во Владимире</title>
{% endblock %}

{% block meta %}
    <meta name="keywords" content="аренда грузовых автомобилей,
                                    аренда грузовиков,
                                    аренда коммерческого транспорта">
    <meta name="description" content="Аренда грузового транспорта во Владимире.
    У нас вы можете взять в аренду грузовой автомобиль любого класса по низким ценам.">
{% endblock %}

{% block middle_bar %}
    <div class="rover">
        <div class="bg"></div>
        <div class="fg"></div>
        <div class="car_book">
            <div class="form">
                <form action="{{ path('public_booking') }}" method="POST" {{ form_enctype(form) }}>
                    <table>
                        <tbody>
                        <tr>
                            <td>{{ form_label(form.name) }}{{ form_errors(form.name) }}</td>
                            <td>{{ form_widget(form.name) }}</td>
                        </tr>
                        <tr>
                            <td>{{ form_label(form.start_date) }}{{ form_errors(form.start_date) }}</td>
                            <td>{{ form_widget(form.start_date) }}</td>
                        </tr>
                        <tr>
                            <td>{{ form_label(form.over_date) }}{{ form_errors(form.over_date) }}</td>
                            <td>{{ form_widget(form.over_date) }}</td>
                        </tr>
                        <tr>
                            <td>{{ form_label(form.phone) }}{{ form_errors(form.over_date) }}</td>
                            <td>{{ form_widget(form.phone) }}</td>
                        </tr>
                        <tr>
                            <td>{{ form_label(form.email) }}{{ form_errors(form.email) }}</td>
                            <td>{{ form_widget(form.email) }}</td>
                        </tr>
                        <tr>
                            <td class="confirm" colspan="2"><input type="submit" value="Забронировать автомобиль"/></td>
                        </tr>
                        </tbody>
                    </table>
                </form>
            </div>
            <div class="transp">

            </div>

        </div>
    </div>
<div class="">
    <h1>Аренда автомобилей</h1>
    <p class="body_text">Аренда уже давно стала для нас обычным явлением, и даже порой кажется,
        что она существует с незапамятных времен. И это действительно так.
        Схема очень проста: вы просто берете что-нибудь на время, отдавая взамен
        собственнику какое-либо вознаграждение, ведь не всегда та или иная вещь
        нужна нам в постоянном использовании. Поэтому неудивительно, что аренда существует
        уже более 4000 лет. Однако с арендой автомобилей дело обстоит несколько иначе,
        стоит иметь в виду, что первый автомобиль был сконструирован только в конце 19 века,
        а сдан в аренду в начале 20-го. Сейчас можно арендовать практически все: от роликовых
        коньков и свадебных платьев до автомобилей, квартир и даже памятников архитектуры.</p>
    <p class="body_text">Во Владимире не так много мест, где вы могли бы арендовать автомобиль.
        “Авангард” - один из них. Здесь вам предложат любой автомобиль и для любых случаев.
        А случаев может быть предостаточно: вы просто путешествуете по городу, и не хотели
        бы наслаждаться древними красотами пешком; к вам приехали важные коллеги по бизнесу,
       которых вы хотели бы отвезти в ресторан или в отель; вы просто не имеете собственного
        автомобиля в силу некоторых обстоятельств, но он вам нужен для определенных нужд.
        Перечислять подобные случаи можно бесконечно. Так же бесконечно можно перечислять
        модельный ряд автомобилей, которые “Авангард” предлагает вам напрокат:
        легковые автомобили эконом, среднего, бизнес или представительского класса, седаны или
        хетчбеки, минивены, легкие коммерческие автомобили зарубежных и отечественных производителей.
        Все предлагаемые автомобили предоставляются в аренду в чистом, ухоженном виде.</p>
    <h2>Аренда автомобиля без водителя</h2>
    <p class="body_text">“Авангард” поможет вам выбрать автомобиль, которые подойдет именно вам, для конкретного
        и индивидуального случая. Опытный менеджер подберет вам автомобиль для проката и договорится
        с вами об удобных для вас условий аренды. Безусловно, в любом случае вас ожидают приятно
        низкие цены и высокий уровень обслуживания. Автомобиль предлагается напрокат на любой
        предложенный срок. “Авангард” предлагает автомобили напрокат с помощью онлайн-сервиса,
        по телефону или при личной встрече в офисе. В любом случае это будет отличный сервис.
        Можете в этом не сомневаться.</p>
    <p class="body_text">“Авангард” аренда автомобилей во Владимире – любой ваш каприз осуществим.</p>
</div>
<div class="car_ad">
    <table>
        <tr>
            {% for car in cars %}
            <td>
                <a href="{{path('public_show_car', {'id': car.id})}}">
                    <div>
                        <h3>{{ car.name }}</h3>
                        <img src="{{ car.getMainPhotoPath }}" alt="car.name"/>
                        <div>
                            <h3>Цена</h3>
                            <p class="price" id="price">от {{ car.pricesWithoutDriver.week }} руб. в сутки</p>
                        </div>
                    </div>
                <a/>
            </td>
            {% endfor %}
        </tr>
    </table>
</div>
{% endblock %}
